(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{12:function(e,t,a){e.exports={ImageGallery:"ImageGallery_ImageGallery__3_NAC",text:"ImageGallery_text__2Sl5v"}},15:function(e,t,a){e.exports={ImageGalleryItem:"ImageGalleryItem_ImageGalleryItem__1efxW",image:"ImageGalleryItem_image__HsT36"}},16:function(e,t,a){e.exports={button:"LoadMoreButton_button__2QKag",icon:"LoadMoreButton_icon__26EBM",spin:"LoadMoreButton_spin__RGPMS"}},17:function(e,t,a){e.exports={overlay:"Modal_overlay__2Arkf",modal:"Modal_modal__1rLrW"}},30:function(e,t,a){e.exports={Loader:"Loader_Loader__3Fqzc"}},36:function(e,t,a){},37:function(e,t,a){},7:function(e,t,a){e.exports={Searchbar:"Searchbar_Searchbar__YD-hB",SearchForm:"Searchbar_SearchForm__Gwzfa",SearchFormButton:"Searchbar_SearchFormButton__1oSES",label:"Searchbar_label__3oVZZ",input:"Searchbar_input__2ZcgT","SearchForm-input":"Searchbar_SearchForm-input__2Xorl"}},79:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),r=a(6),o=a.n(r),s=(a(36),a(18)),i=a(5),l=(a(37),a(13)),u=function(e){return l.b.warning(e,{position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,theme:"dark"})},m=a(27),j=a.n(m);var b={fetchImage:function(e,t){return j.a.get("".concat("https://pixabay.com/api/","?q=").concat(e,"&page=").concat(t,"&key=").concat("23951703-436932e17dab2edd529d032c5","&image_type=photo&orientation=horizontal&per_page=12")).then((function(e){return 200===e.status&&0!==e.data.hits.length?e.data.hits:Promise.reject(new Error("No images with this name"))}))}},d=a(28),h=a(7),g=a.n(h),f=(a(56),a(2));function O(e){var t=e.onSubmit,a=Object(n.useState)(""),c=Object(i.a)(a,2),r=c[0],o=c[1];return Object(f.jsx)("header",{className:g.a.Searchbar,children:Object(f.jsxs)("form",{className:g.a.SearchForm,onSubmit:function(e){e.preventDefault(),""===r.trim()&&u("Press the name of the image!"),t(r),o("")},children:[Object(f.jsxs)("button",{type:"submit",className:g.a.SearchFormButton,children:[Object(f.jsx)("span",{className:g.a.label,children:"Search"})," ",Object(f.jsx)(d.a,{})]}),Object(f.jsx)("input",{onChange:function(e){o(e.currentTarget.value.toLowerCase())},value:r,className:g.a.input,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos"})]})})}var _=a(15),p=a.n(_),x=function(e,t){var a=e.webformatURL,n=e.tags,c=e.largeImageURL,r=e.id;return Object(f.jsx)("li",{className:p.a.ImageGalleryItem,children:Object(f.jsx)("img",{onClick:t,id:r,src:a,alt:n,srcmodal:c,className:p.a.image})},"id_".concat(r))},S=a(12),v=a.n(S),y=function(e){var t=e.images,a=e.onClick;return Object(f.jsx)("ul",{className:v.a.ImageGallery,children:t.map((function(e){return x(e,a)}))})};function w(e){var t=e.message;return Object(f.jsx)("div",{role:"alert",children:Object(f.jsx)("p",{children:t})})}a(58);var I=a(29),N=a.n(I),k=a(30),C=a.n(k);function F(){return Object(f.jsx)("div",{className:C.a.Loader,children:Object(f.jsx)(N.a,{type:"Plane",color:"#00BFFF",height:80,width:80,timeout:3e3})})}var L=a(31),G=a(16),B=a.n(G),E=function(e){var t=e.onClick;return Object(f.jsxs)("button",{className:B.a.button,type:"button",onClick:function(){return t()},children:[Object(f.jsx)(L.a,{className:B.a.icon})," ",Object(f.jsx)("span",{children:"Load more"})]})},M=a(17),P=a.n(M),A=document.querySelector("#modal-root");function T(e){var t=e.modalUrl,a=e.modalAlt,c=e.onClose;Object(n.useEffect)((function(){var e=function(e){"Escape"===e.code&&c()};return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}}));return Object(r.createPortal)(Object(f.jsx)("div",{className:P.a.overlay,onClick:function(e){e.currentTarget===e.target&&c()},children:Object(f.jsx)("div",{className:P.a.modal,children:Object(f.jsx)("img",{src:t,alt:a})})}),A)}function U(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)(1),o=Object(i.a)(r,2),m=o[0],j=o[1],d=Object(n.useState)(""),h=Object(i.a)(d,2),g=h[0],_=h[1],p=Object(n.useState)(null),x=Object(i.a)(p,2),S=x[0],I=x[1],N=Object(n.useState)("idle"),k=Object(i.a)(N,2),C=k[0],L=k[1],G=Object(n.useState)(!1),B=Object(i.a)(G,2),M=B[0],P=B[1],A=Object(n.useState)(!1),U=Object(i.a)(A,2),q=U[0],R=U[1],z=Object(n.useState)(""),D=Object(i.a)(z,2),H=D[0],Z=D[1],J=Object(n.useState)(""),W=Object(i.a)(J,2),Y=W[0],K=W[1];Object(n.useEffect)((function(){g&&(L("pending"),b.fetchImage(g,m).then((function(e){0===e.length?u("Nothing found on your request!"):(c([].concat(Object(s.a)(a),Object(s.a)(e))),L("resolved"),Z(e.largeImageURL))})).catch((function(e){I(e),L("rejected")})).finally((function(){P(!1)})))}),[m,g]);return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(O,{onSubmit:function(e){_(e),c([]),j(1)}}),Object(f.jsx)(l.a,{}),"idle"===C&&Object(f.jsx)("div",{className:v.a.text,children:"Press the name of the image"}),Object(f.jsx)(y,{images:a,onClick:function(e){if("IMG"===e.target.nodeName){e.preventDefault();var t=e.target.getAttribute("srcmodal"),a=e.target.getAttribute("alt");R(!0),Z(t),K(a)}}}),"pending"===C&&Object(f.jsx)(F,{}),"rejected"===C&&Object(f.jsx)(w,{message:S.message}),"resolved"===C&&Object(f.jsxs)(f.Fragment,{children:[q&&Object(f.jsx)(T,{onClose:function(){R(!q)},modalUrl:H,modalAlt:Y}),a.length>11&&!M&&Object(f.jsx)(E,{onClick:function(){P(!0),j(m+1);var e={top:null,behavior:"smooth"};e.top=window.pageYOffset+document.documentElement.clientHeight,setTimeout((function(){console.log("scrol"),window.scrollTo(e)}),1e3)}})]})]})}o.a.render(Object(f.jsx)(c.a.StrictMode,{children:Object(f.jsx)(U,{})}),document.getElementById("root"))}},[[79,1,2]]]);
//# sourceMappingURL=main.67584e9d.chunk.js.map