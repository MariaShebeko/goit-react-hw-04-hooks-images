(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{12:function(e,t,a){e.exports={ImageGalleryItem:"ImageGalleryItem_ImageGalleryItem__1efxW",image:"ImageGalleryItem_image__HsT36"}},13:function(e,t,a){e.exports={button:"LoadMoreButton_button__2QKag",icon:"LoadMoreButton_icon__26EBM",spin:"LoadMoreButton_spin__RGPMS"}},14:function(e,t,a){e.exports={overlay:"Modal_overlay__2Arkf",modal:"Modal_modal__1rLrW"}},18:function(e,t,a){e.exports={Loader:"Loader_Loader__3Fqzc"}},24:function(e,t,a){},25:function(e,t,a){},49:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),r=a(5),o=a.n(r),s=(a(24),a(15)),i=a(4),l=(a(25),a(10)),u=function(e){return l.b.warning(e,{position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,theme:"dark"})};var m={fetchImage:function(e,t){return fetch("".concat("https://pixabay.com/api/","?q=").concat(e,"&page=").concat(t,"&key=").concat("23951703-436932e17dab2edd529d032c5","&image_type=photo&orientation=horizontal&per_page=12")).then((function(e){return e.ok?e.json():Promise.reject(new Error("No images with this name"))}))}},j=a(16),b=a(6),d=a.n(b),h=(a(26),a(2));function g(e){var t=e.onSubmit,a=Object(n.useState)(""),c=Object(i.a)(a,2),r=c[0],o=c[1];return Object(h.jsx)("header",{className:d.a.Searchbar,children:Object(h.jsxs)("form",{className:d.a.SearchForm,onSubmit:function(e){e.preventDefault(),""===r.trim()&&u("Press the name of the image!"),t(r),o("")},children:[Object(h.jsxs)("button",{type:"submit",className:d.a.SearchFormButton,children:[Object(h.jsx)("span",{className:d.a.label,children:"Search"})," ",Object(h.jsx)(j.a,{})]}),Object(h.jsx)("input",{onChange:function(e){o(e.currentTarget.value.toLowerCase())},value:r,className:d.a.input,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos"})]})})}var f=a(12),O=a.n(f),_=function(e,t){var a=e.webformatURL,n=e.tags,c=e.largeImageURL,r=e.id;return Object(h.jsx)("li",{className:O.a.ImageGalleryItem,children:Object(h.jsx)("img",{onClick:t,id:r,src:a,alt:n,srcmodal:c,className:O.a.image})},"id_".concat(r))},p=a(9),x=a.n(p),S=function(e){var t=e.images,a=e.onClick;return Object(h.jsx)("ul",{className:x.a.ImageGallery,children:t.map((function(e){return _(e,a)}))})};function v(e){var t=e.message;return Object(h.jsx)("div",{role:"alert",children:Object(h.jsx)("p",{children:t})})}a(28);var y=a(17),w=a.n(y),I=a(18),k=a.n(I);function N(){return Object(h.jsx)("div",{className:k.a.Loader,children:Object(h.jsx)(w.a,{type:"Plane",color:"#00BFFF",height:80,width:80,timeout:3e3})})}var C=a(19),F=a(13),L=a.n(F),G=function(e){var t=e.onClick;return Object(h.jsxs)("button",{className:L.a.button,type:"button",onClick:function(){return t()},children:[Object(h.jsx)(C.a,{className:L.a.icon})," ",Object(h.jsx)("span",{children:"Load more"})]})},B=a(14),E=a.n(B),M=document.querySelector("#modal-root");function P(e){var t=e.modalUrl,a=e.modalAlt,c=e.onClose;Object(n.useEffect)((function(){var e=function(e){"Escape"===e.code&&c()};return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}}));return Object(r.createPortal)(Object(h.jsx)("div",{className:E.a.overlay,onClick:function(e){e.currentTarget===e.target&&c()},children:Object(h.jsx)("div",{className:E.a.modal,children:Object(h.jsx)("img",{src:t,alt:a})})}),M)}function A(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)(1),o=Object(i.a)(r,2),j=o[0],b=o[1],d=Object(n.useState)(""),f=Object(i.a)(d,2),O=f[0],_=f[1],p=Object(n.useState)(null),y=Object(i.a)(p,2),w=y[0],I=y[1],k=Object(n.useState)("idle"),C=Object(i.a)(k,2),F=C[0],L=C[1],B=Object(n.useState)(!1),E=Object(i.a)(B,2),M=E[0],A=E[1],T=Object(n.useState)(!1),U=Object(i.a)(T,2),q=U[0],R=U[1],z=Object(n.useState)(""),D=Object(i.a)(z,2),H=D[0],Z=D[1],J=Object(n.useState)(""),W=Object(i.a)(J,2),Y=W[0],K=W[1];Object(n.useEffect)((function(){O&&(L("pending"),m.fetchImage(O,j).then((function(e){return e.hits})).then((function(e){0===e.length?u("Nothing found on your request!"):(c([].concat(Object(s.a)(a),Object(s.a)(e))),L("resolved"),A(!1),Z(e.largeImageURL))})).catch((function(e){I(e),L("rejected")})))}),[O,j]);return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(g,{onSubmit:function(e){_(e),c([]),b(1)}}),Object(h.jsx)(l.a,{}),"idle"===F&&Object(h.jsx)("div",{className:x.a.text,children:"Press the name of the image"}),"pending"===F&&Object(h.jsx)(N,{}),"rejected"===F&&Object(h.jsx)(v,{message:w.message}),"resolved"===F&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(S,{images:a,onClick:function(e){if("IMG"===e.target.nodeName){e.preventDefault();var t=e.target.getAttribute("srcmodal"),a=e.target.getAttribute("alt");R(!0),Z(t),K(a)}}}),q&&Object(h.jsx)(P,{onClose:function(){R(!q)},modalUrl:H,modalAlt:Y}),a.length>11&&!M&&Object(h.jsx)(G,{onClick:function(){A(!0),b((function(e){return e+1}));var e={top:null,behavior:"smooth"};e.top=window.pageYOffset+document.documentElement.clientHeight,setTimeout((function(){window.scrollTo(e)}),1e3)}})]})]})}o.a.render(Object(h.jsx)(c.a.StrictMode,{children:Object(h.jsx)(A,{})}),document.getElementById("root"))},6:function(e,t,a){e.exports={Searchbar:"Searchbar_Searchbar__YD-hB",SearchForm:"Searchbar_SearchForm__Gwzfa",SearchFormButton:"Searchbar_SearchFormButton__1oSES",label:"Searchbar_label__3oVZZ",input:"Searchbar_input__2ZcgT","SearchForm-input":"Searchbar_SearchForm-input__2Xorl"}},9:function(e,t,a){e.exports={ImageGallery:"ImageGallery_ImageGallery__3_NAC",text:"ImageGallery_text__2Sl5v"}}},[[49,1,2]]]);
//# sourceMappingURL=main.37f3f06d.chunk.js.map